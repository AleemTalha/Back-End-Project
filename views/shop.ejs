<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <title>BuyFinity</title>
    <style>
      :root {
        --black: #000000;
        --brown: #48a6a7;
        --yellow: #ffb22c;
        --white: #f7f7f7;
        --dWhite: #f2efe7;
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      .lora {
        font-family: "Lora", serif;
        font-weight: 500;
      }
      .great {
        font-family: "Great Vibes", serif;
        font-weight: 400;
      }
      body {
        background-color: var(--dWhite);
        height: 300vh;
        font-family: Arial, sans-serif;
      }

      .navbar {
        display: flex;
        align-items: center;
        padding: 10px 20px;
        color: rgb(0, 0, 0) !important;
      }
      nav > * {
        color: black !important;
      }

      #menu {
        display: flex;
        list-style: none;
        padding: 0;
      }

      #menu > li {
        position: relative;
      }

      #menu a {
        text-decoration: none;
        color: black;
        border-radius: 10px;
        padding: 10px 15px;
        display: block;
        transition: 0.3s;
      }

      #menu > li:hover > a {
        background: rgb(218, 216, 183);
        color: var(--brown);
      }

      #menu ul {
        position: absolute;
        top: 100%;
        left: 0;
        background: #333;
        list-style: none;
        padding: 0;
        min-width: 200px;
        display: none;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
      }

      #menu li:hover ul {
        display: block;
      }

      #menu ul li a {
        padding: 10px;
        z-index: 10000;
        position: relative;
        color: #ddd;
        transition: 0.3s;
      }

      #menu ul li a:hover {
        color: cyan;
        background: rgba(0, 223, 252, 0.2);
      }
      @keyframes swingdown {
        0% {
          opacity: 0.99999;
          transform: rotateX(90deg);
        }

        30% {
          transform: rotateX(-20deg) rotateY(5deg);
          animation-timing-function: ease-in-out;
        }

        65% {
          transform: rotateX(20deg) rotateY(-3deg);
          animation-timing-function: ease-in-out;
        }

        100% {
          transform: rotateX(0);
          animation-timing-function: ease-in-out;
        }
      }
      #menu ul {
        animation: swingdown 0.5s ease-in-out;
      }
      #menu ul {
        animation: swingdown 0.5s ease-in-out;
      }

      .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 20px;
      }

      .navbar-toggler {
        display: none;
        background: transparent;
        border: none;
        font-size: 24px;
        cursor: pointer;
      }

      @media (max-width: 768px) {
        .navbar-toggler {
          display: block;
        }
        #menu {
          display: none;
          flex-direction: column;
          width: 100%;
          text-align: center;
        }
        #menu.show {
          display: flex;
        }
      }
    </style>
  </head>
  <body>
    <div class="navbar fixed-top border-bottom shadow-lg" style="background-color: var(--dWhite);">
        <div class="great display-4">BuyFinity</div>
        <div class="">
            <a href="/logout" class="px-4 py-2 border rounded-5 hover:scale-105 !important" style="border-radius: 10px;background-color: var(--brown); color: white;">Logout</a>
        </div>
      </div>
      <div class="navbar sticky-top border-bottom" style="top: 11vh;background-color: var(--dWhite);">
        <button class="navbar-toggler" onclick="toggleMenu()">
          <i class="fas fa-bars"></i>
        </button>
        <ul id="menu" class="lora">
          <li>
            <a href="#">New Collection</a>
          </li>
  
          <li>
            <a href="#">All Products</a>
          </li>
          <li>
            <a href="#">Discounted Products</a>
          </li>
          <li>
              <a href="#">Sort By ▼</a>
              <ul>
                  <li><a href="#">Popular</a></li>
                  <li><a href="#">Ascending price</a></li>
                  <li><a href="#">Descending price</a></li>
              </ul>
          </li>
          <li>
              <a href="#">Filter By ▼</a>
              <ul>
                  <li><a href="#">Availability</a></li>
                  <li><a href="#">Discount</a></li>
              </ul>
          </li>
          
        </ul>
      </div>
    <div class="pt-5 mt-5">
      <div class="row p-5 m-0">
        <% products.forEach(p=> { %>
            <div class="col-lg-3 p-1">
                <div class="card p-3">
                    <img src="data:image/ipeg;base64,<%= p.image.toString('base64') %>" class="card-img-top mx-auto" style="height: 200px; width: 200px;">
                      <div class="card-body border text-start">
                      <h5 class="card-title text-center"><%= p.name %></h5>
                      <p class="fw-bold mb-1">Price: <span class="text-primary">$<%= p.price %></span></p>
                      <div class="d-flex justify-content-between align-items-center">
                        <span class="text-danger fw-bold">Discount: <%= p.discount %>%</span>
                        <i class="bi bi-plus-circle-fill ms-2 " style="cursor: pointer;"></i>
                      </div>
                    </div>
                  </div>
                </div>
         <% }) %>
          
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function toggleMenu() {
        document.getElementById("menu").classList.toggle("show");
      }
    </script>
  </body>
</html>
